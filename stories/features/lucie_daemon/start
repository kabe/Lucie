Story: starting lucie daemon
  As a cluster administrator
  I want to start lucied process
  So that I can run 'node' and 'installer' commands without root privilege

  Scenario: start lucied succeeds
    Given no other lucied is running
    When I start lucied with verbose option
    Then I get message '[info]  Lucie daemon started.'
    And PID file is created at ./tmp/pids/lucied.pid
    And PID is saved at ./tmp/pids/lucied.pid
    And pwd is RAILS_ROOT

  Scenario: start lucied fails if another lucied is running
    Given no other lucied is running
    When I start lucied
    When I start another lucied
    Then I get error message '[error] Another Lucie daemon is already running.'
